<div id="proyectoPendiente">
  <div class="row no-margin">

    <div class="col-md-12">
      <h2 class="text-center">Proyectos</h2>
    </div>

      <div class="container-fluid">
        <div class="row">
          <div class="col-md-3">

          </div>
           <div class="col-md-9">
              <md-content flex>

              <div class="container-fluid">
                <div class="row">
                    <md-tabs>
                      <md-tab label="Proyectos Pendientes">
                       <md-content>
                          <div class="container-fluid" ng-repeat="pobjEstado  in estadoProyectoCtrl.solicitudProyectos | filter:{estado:'pendiente'}:true track by $index">
                             <div class="panel-group" id="accordion" >
                                <div class="panel panel-default">
                                  <div class="panel-heading">
                                    <div class="row">
                                      <div class="col-md-6">
                                        <h4 class="panel-title md-padd">
                                          <span>Nombre del cliente: <a class="session decorationNone" data-toggle="collapse" ng-model="estadoProyectoCtrl.nombre" value="{{pobjEstado.nombre}}" data-parent="#accordion"> {{pobjEstado.nombre}}</a></span>
                                        </h4>
                                      </div>
                                      <div class="col-md-6">
                                        <div class="col-md-3">
                                          <button class="btn-basic" ng-click="estadoProyectoCtrl.aceptar(pobjEstado)">Aceptar</button>
                                        </div>
                                        <div class="col-md-3">
                                          <div class="col-md-3">
                                          <button class="btn-basic" ng-click="estadoProyectoCtrl.rechazar(pobjEstado)">Rechazar</button>
                                        </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div id="collapse1" class="panel-collapse collapse in">
                                    <div class="panel-body">
                                    <div class="container-fluid">
                                      <div class="row">
                                        <div class="col-md-6">
                                          <div class="col-md-3">
                                            <p><small>Foto:</small></p>
                                            <img class="img" ng-src="{{pobjEstado.photo}}">
                                          </div>
                                          <div class="col-md-4">
                                            <p><small>Resumen ejecutivo:</small></p>
                                           <a href="{{pobjEstado.bio}}" download><i id="file" class="fa fa-file-text" alt="download"></i></a>
                                          </div>
                                          <div class="col-md-3">
                                            <p><small>Industria:</small></p>
                                            <p ng-model="estadoProyectoCtrl.industria" value="{{pobjEstado.industria}}">
                                                {{pobjEstado.industria}}
                                              </p>
                                          </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="col-md-3">
                                              <p><small>Descripción:</small></p>
                                              <p ng-model="estadoProyectoCtrl.descripcion" value="{{pobjEstado.descripcion}}">
                                                {{pobjEstado.descripcion}}
                                              </p>
                                            </div>
                                            <div class="col-md-3">
                                              <p><small>Correo cliente:</small></p>
                                              <p ng-model="estadoProyectoCtrl.emailContacto" value="{{pobjEstado.emailContacto}}">
                                                {{pobjEstado.emailContacto}}
                                              </p>
                                            </div>
                                        </div>
                                      </div>
                                    </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                          </div>
                        </md-content>
                      </md-tab>

                      <md-tab label="Proyectos aceptados">
                        <md-content>
                          <div class="container-fluid" ng-controller="estadoProyectoController" ng-repeat="pobjEstado in estadoProyectoCtrl.solicitudProyectos | filter:{estado:'Aceptado'}:true">
                            <div class="panel-group" id="accordion" >
                              <div class="panel panel-default">
                                <div class="panel-heading">
                                  <div class="row">
                                    <div class="col-md-6">
                                      <h4 class="panel-title md-padd">
                                        <span>Nombre del cliente: <a class="session decorationNone" data-toggle="collapse" ng-model="aceptadoCtrl.nombre" value="{{pobjEstado.nombre}}" data-parent="#accordion"> {{pobjEstado.nombre}}</a></span>
                                      </h4>
                                    </div>
                                     <div class="col-md-6">
                                        <span>Estado:</spam>
                                        <small ng-model="aceptadoCtrl.estado" value="{{pobjEstado.estado}}">
                                          {{pobjEstado.estado}}
                                        </small>
                                      </div>
                                  </div>
                                </div>
                                <div id="collapse1" class="panel-collapse collapse in">
                                  <div class="panel-body">
                                    <div class="container-fluid md-botton">
                                      <div class="row">
                                        <div class="col-md-6">
                                          <div class="col-md-3">
                                            <p><small>Foto:</small></p>
                                            <img class="img" ng-src="{{pobjEstado.photo}}">
                                          </div>
                                          <div class="col-md-4">
                                            <p><small>Resumen ejecutivo:</small></p>
                                           <a href="{{pobjEstado.bio}}" download><i id="file" class="fa fa-file-text" alt="download"></i></a>
                                          </div>
                                          <div class="col-md-3">
                                            <p><small>Industria:</small></p>
                                            <p ng-model="aceptadoCtrl.industria" value="{{pobjEstado.industria}}">
                                                {{pobjEstado.industria}}
                                              </p>
                                          </div>
                                        </div>
                                        <div class="col-md-6">
                                          <div class="col-md-3">
                                            <p><small>Descripción:</small></p>
                                            <p ng-model="aceptadoCtrl.descripcion" value="{{pobjEstado.descripcion}}">
                                              {{pobjEstado.descripcion}}
                                            </p>
                                          </div>
                                          <div class="col-md-3">
                                            <p><small>Correo cliente:</small></p>
                                            <p ng-model="aceptadoCtrl.emailContacto" value="{{pobjEstado.emailContacto}}">
                                              {{pobjEstado.emailContacto}}
                                            </p>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <md-divider></md-divider>


                                   <div class="row">
                                     <md-tabs class="md-block-input">
                                       <md-tab label="Mas información">

                                            <div class="container-fluid">
                                                <div class="row">
                                                  <div class="col-md-6">
                                                    <form clas="md-block-input" name="asignarProfesor">
                                                      <div class="col-md-6">
                                                          <md-input-container class="md-block">
                                                            <label>Asignar profesor:</label>
                                                             <md-select multiple aria-label="profesor" name="profesor" id="txtProfesores" ng-model="solicitudEstudianteCtrl.profesorAsignado" required>
                                                                <md-option value="{{profesor.nombre}} {{profesor.primerApellido}}" ng-repeat="profesor in estadoProyectoCtrl.profesores" required>{{profesor.nombre}} {{profesor.primerApellido}}</md-option>
                                                              </md-select>
                                                              <div ng-messages="asignarProfesor.profesor.$error" role="alert">
                                                                <div ng-message="required">Campo requerido</div>
                                                              </div>
                                                          </md-input-container>
                                                      </div>
                                                      <div class="col-md-6">
                                                        <md-button class="session" ng-click="solicitudEstudianteCtrl.asiganarProfesor()">Asignar profesor</md-button>
                                                      </div>
                                                    </form>
                                                  </div>

                                                  <div class="col-md-6">
                                                    <form clas="md-block-input" name="asignarProfesor">
                                                      <div class="col-md-6">
                                                          <md-input-container class="md-block">
                                                            <label>Asignar estudiante:</label>
                                                             <md-select multiple aria-label="estudiante" name="estudiante" id="txtestudiantes" ng-model="solicitudEstudianteCtrl.estudianteAsignado" required>
                                                                <md-option value="{{estudiante.nombreEstudiante}}" ng-repeat="estudiante in estadoProyectoCtrl.estudiantes" required>{{estudiante.nombreEstudiante}}</md-option>
                                                              </md-select>
                                                              <div ng-messages="asignarestudiante.estudiante.$error" role="alert">
                                                                <div ng-message="required">Campo requerido</div>
                                                              </div>
                                                          </md-input-container>
                                                      </div>
                                                      <div class="col-md-6">
                                                        <md-button class="session" ng-click="solicitudEstudianteCtrl.asiganarestudiante()">Asignar estudiante</md-button>
                                                      </div>
                                                    </form>
                                                  </div>

                                                </div>
                                                <div class="row">
                                                  <md-container>
                                                    <div class="col-md-6">
                                                      <table class="table table-striped table-bordered table-hover">
                                                        <thead>
                                                          <tr>
                                                            <th class="text-center">Nombre del profesor</th>
                                                            <th class="text-center">Eliminar</th>
                                                          </tr>
                                                        </thead>
                                                        <tbody >
                                                          <tr ng-repeat="asigado in estadoProyectoCtrl.asignados">
                                                            <td class="text-center">{{asigado.profesor.nombre}}</td>
                                                            <td class="text-center"><button type="button" ng-click="estadoProyectoCtrl.eliminar(curso._id, $event)"><i class="fa fa-trash" aria-hidden="true"></i></button></td>
                                                          </tr>
                                                        </tbody>
                                                      </table>
                                                    </div>
                                                    <div class="col-md-6">
                                                      <table class="table table-striped table-bordered table-hover">
                                                       <thead>
                                                          <tr>
                                                            <th class="text-center">Nombre del estudiante</th>
                                                            <th class="text-center">Eliminar</th>
                                                          </tr>
                                                        </thead>
                                                        <tbody >
                                                          <tr ng-repeat="asigado in estadoProyectoCtrl.asignados">
                                                            <td class="text-center">{{asigado.estudiante.nombre}}</td>
                                                            <td class="text-center"><button type="button" ng-click="estadoProyectoCtrl.eliminar(curso._id, $event)"><i class="fa fa-trash" aria-hidden="true"></i></button></td>
                                                          </tr>
                                                        </tbody>
                                                      </table>
                                                    </div>
                                                  </md-container>
                                                </div>
                                                <div class="row">
                                                  <form name="formularioBitacora">
                                                    <div class="row">
                                                      <div class="col-md-6">
                                                        <md-input-container class="md-block label-white">
                                                          <label class="label-white">Fecha de Inicio:</label>
                                                            <md-datepicker  name="inicio" ng-model="proyectosCtrl.inicio" required></md-datepicker>
                                                            <div ng-messages="formularioBitacora.inicio.$error">
                                                              <div ng-message-exp="'required'">Esto es requerido</div>
                                                            </div>
                                                        </md-input-container>
                                                      </div>
                                                       <div class="col-md-6">
                                                          <md-input-container class="md-block label-white">
                                                            <label class="label-white">Fecha de finalización:</label>
                                                              <md-datepicker  name="final" ng-model="proyectosCtrl.final" required></md-datepicker>
                                                              <div ng-messages="formularioBitacora.final.$error">
                                                                <div ng-message-exp="'required'">Esto es requerido!</div>
                                                              </div>
                                                          </md-input-container>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                       <div class="col-md-6">
                                                          <md-input-container md-padding="25px" class="md-block">
                                                            <label>Costo del proyecto:</label>
                                                            <input required="" md-no-asterisk name="costo" ng-model="proyectosCtrl.costo" placeholder="$" ng-pattern="/^[0-9]*$/" required>
                                                            <div ng-messages="formularioBitacora.costo.$error">
                                                              <div ng-message-exp="'required'">Campo requerido</div>
                                                              <div ng-message-exp="'pattern'">Solo se permiten números</div>
                                                            </div>
                                                          </md-input-container>
                                                       </div>
                                                    </div>
                                                  </form>
                                                </div>

                                              </div>

                                          </md-tab>
                                           <md-tab label="Bitacoras">
                                              <div class="container-fluid">
                                                <div class="row">
                                                  <div class="col-md-4">
                                                    <md-input-container class="md-block">
                                                      <label>Creador del comentario:</label>
                                                      <md-select md-no-asterisk  aria-label="remitente" name="remitente" id="txtProfesores" ng-model="estadoProyectoCtrl.remitente" required>
                                                         <!-- <md-option ng-repeat="pobjEstado in estadoProyectoCtrl.profesores | filter:{tipo:'profesor'}:true track by $index" value="{{pobjEstado.tipo}}">{{pobjEstado.tipo}}</md-option> -->
                                                         <md-option value="Asistente">Asistente</md-option>
                                                         <md-option value="Administrador">Administrador</md-option>
                                                         <md-option value="Estudiante">Estudiante</md-option>
                                                         <md-option value="Profesor">Profesor</md-option>

                                                       </md-select>
                                                        <div ng-messages="formularioBitacora.remitente.$error" role="alert">
                                                          <div ng-message="required">Campo requerido</div>
                                                        </div>
                                                    </md-input-container>
                                                  </div>
                                                  <div class="col-md-4">
                                                    <md-input-container md-padding="25px" class="md-block">
                                                      <label>Comentario:</label>
                                                      <input required="" md-no-asterisk name="comentario" ng-model="estadoProyectoCtrl.comentario" required>
                                                      <div ng-messages="formularioBitacora.comentario.$error">
                                                        <div ng-message-exp="'required'">Campo requerido</div>
                                                      </div>
                                                    </md-input-container>
                                                 </div>
                                                 <div class="col-md-4">
                                                    <div class="row">
                                                      <div class="">
                                                        <div class="dialog-demo-content" layout-wrap="" layout-margin="" >
                                                         <md-button class="session text-center" ng-click="solicitudEstudianteCtrl.guardarCambios()">Crear bitácora</md-button>
                                                        </div>
                                                      </div>
                                                    </div>
                                                 </div>
                                                </div>


                                                <div class="row">
                                                  <table class="table table-striped table-bordered table-hover">
                                                    <thead>
                                                      <tr>
                                                        <th class="text-center">Fecha comentario</th>
                                                        <th class="text-center">Creador del comentario</th>
                                                        <th class="text-center">Comentario</th>
                                                        <th class="text-center">Costo</th>
                                                        <th class="text-center">Fecha final</th>
                                                      </tr>
                                                    </thead>
                                                    <tbody>
                                                      <tr ng-repeat="obj in pobjEstado.bitacoras">

                                                        <td class="text-center">{{obj.inicio | date:'MM/dd/yyyy'}}</td>
                                                        <td class="text-center">{{obj.remitente}}</td>
                                                        <td class="text-center">{{obj.comentario}}</td>
                                                        <td class="text-center">{{obj.costo | currency}}</td>
                                                        <td class="text-center">{{obj.final | date:'MM/dd/yyyy'}}</td>

                                                        {{obj.remitente | json}}

                                                      </tr>
                                                      <tr ng-repeat="obj in estadoProyectoCtrl.proyectos.bitacoras">

                                                        <td class="text-center">{{obj.inicio | date:'MM/dd/yyyy'}}</td>
                                                        <td class="text-center">{{obj.remitente}}</td>
                                                        <td class="text-center">{{obj.comentario}}</td>
                                                        <td class="text-center">{{obj.costo | currency}}</td>
                                                        <td class="text-center">{{obj.final | date:'MM/dd/yyyy'}}</td>

                                                        {{obj.remitente | json}}

                                                      </tr>
                                                    </tbody>
                                                  </table>
                                              </div>
                                              </div>
                                           </md-tab>
                                         </md-tabs>
                                       </div>


                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </md-content>
                      </md-tab>

                      <md-tab label="Proyectos Rechazados">
                         <md-content>
                          <div class="container-fluid" ng-controller="estadoProyectoController" ng-repeat="pobjEstado in estadoProyectoCtrl.solicitudProyectos | filter:{estado:'Rechazado'}:true">
                            <div class="panel-group" id="accordion" >
                              <div class="panel panel-default">
                                <div class="panel-heading">
                                  <div class="row">
                                    <div class="col-md-6">
                                      <h4 class="panel-title md-padd">
                                        <span>Nombre del cliente: <a class="session decorationNone" data-toggle="collapse" ng-model="estadoProyectoCtrl.nombre" value="{{pobjEstado.nombre}}" data-parent="#accordion"> {{pobjEstado.nombre}}</a></span>
                                      </h4>
                                    </div>
                                     <div class="col-md-6">
                                        <span>Estado:</spam>
                                        <small ng-model="aceptadoCtrl.estado" value="{{pobjEstado.estado}}">
                                          {{pobjEstado.estado}}
                                        </small>
                                      </div>
                                  </div>
                                </div>
                                <div id="collapse1" class="panel-collapse collapse in">
                                  <div class="panel-body">
                                  <div class="container-fluid">
                                    <div class="row">
                                      <div class="col-md-6">
                                        <div class="col-md-3">
                                          <p><small>Foto:</small></p>
                                          <img class="img" ng-src="{{pobjEstado.photo}}">
                                        </div>
                                        <div class="col-md-4">
                                          <p><small>Resumen ejecutivo:</small></p>
                                         <a href="{{pobjEstado.bio}}" download><i id="file" class="fa fa-file-text" alt="download"></i></a>
                                        </div>
                                        <div class="col-md-3">
                                          <p><small>Industria:</small></p>
                                          <p ng-model="estadoProyectoCtrl.industria" value="{{pobjEstado.industria}}">
                                              {{pobjEstado.industria}}
                                            </p>
                                        </div>
                                      </div>
                                      <div class="col-md-6">
                                          <div class="col-md-3">
                                            <p><small>Descripción:</small></p>
                                            <p ng-model="estadoProyectoCtrl.descripcion" value="{{pobjEstado.descripcion}}">
                                              {{pobjEstado.descripcion}}
                                            </p>
                                          </div>
                                          <div class="col-md-3">
                                            <p><small>Correo cliente:</small></p>
                                            <p ng-model="estadoProyectoCtrl.emailContacto" value="{{pobjEstado.emailContacto}}">
                                              {{pobjEstado.emailContacto}}
                                            </p>
                                          </div>
                                      </div>
                                    </div>
                                  </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </md-content>
                      </md-tab>
                  </md-tabs>
                </div>
              </div>
            </md-content>
          </div>
        </div>
      </div>
   </div>
</div>
<div ui-view></div>
